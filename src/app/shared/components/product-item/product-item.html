<article class="group product-item-container w-full h-full rounded-lg border border-gray-200 flex flex-col hover:border-orange-400 transition">
    <div class="shrink-0 overflow-hidden rounded-lg flex justify-center items-center aspect-[4/3] bg-gray-200 w-full h-auto">
        @if (validImage) {
            <img
                class="w-full h-full group-hover:scale-110 transition object-cover"
                [src]="product.image"
                [alt]="product.name"
                loading="lazy"
                (error)="handleImageError()"
            />
        }
    </div>
    <div class="p-3 grow flex flex-col">
        <p class="line-clamp-1 text-xl font-bold group-hover:underline text-gray-900">{{ product.name }}</p>
        <p class="line-clamp-1 text-sm text-gray-500">{{ product.description }}</p>
        @for (item of product.tag ?? []; track $index) {
            <span class="border border-orange-500 text-orange-500 text-xs rounded-md px-2 w-max" [ngClass]="{
                'text-white bg-orange-500': item === 'hot'
            }">{{ item }}</span>
        }
        <div class="mt-auto mb-0">
            <div class="flex items-end justify-between mb-2">
                <div class="text-orange-600 font-semibold">{{ product.salePrice | currencyFormat }}</div>
                <div class="text-gray-500 text-xs line-through">{{ product.originalPrice | currencyFormat}}</div>
            </div>
            <ng-template #cartContainer></ng-template>
        </div>
    </div>
</article>